(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1383],{3905:function(e,n,r){"use strict";r.r(n),r.d(n,{MDXContext:function(){return l},MDXProvider:function(){return m},mdx:function(){return g},useMDXComponents:function(){return p},withMDXComponents:function(){return c}});var t=r(2784);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function i(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function s(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?i(Object(r),!0).forEach((function(n){o(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function d(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=t.createContext({}),c=function(e){return function(n){var r=p(n.components);return t.createElement(e,a({},n,{components:r}))}},p=function(e){var n=t.useContext(l),r=n;return e&&(r="function"==typeof e?e(n):s(s({},n),e)),r},m=function(e){var n=p(e.components);return t.createElement(l.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},f=t.forwardRef((function(e,n){var r=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,l=d(e,["components","mdxType","originalType","parentName"]),c=p(r),m=o,f=c["".concat(i,".").concat(m)]||c[m]||u[m]||a;return r?t.createElement(f,s(s({ref:n},l),{},{components:r})):t.createElement(f,s({ref:n},l))}));function g(e,n){var r=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=f;var s={};for(var d in n)hasOwnProperty.call(n,d)&&(s[d]=n[d]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var l=2;l<a;l++)i[l]=r[l];return t.createElement.apply(null,i)}return t.createElement.apply(null,r)}f.displayName="MDXCreateElement"},64736:function(e,n,r){"use strict";r.r(n),r.d(n,{frontMatter:function(){return i},metadata:function(){return s},toc:function(){return d},default:function(){return c}});var t=r(22122),o=r(19756),a=(r(2784),r(3905)),i={id:"2-0-migration",sidebar_title:"v2.0 Migration",title:"v2.0 Breaking changes"},s={unversionedId:"2-0-migration",id:"2-0-migration",isDocsHomePage:!1,title:"v2.0 Breaking changes",description:"The following is a list of breaking changes in Remotion 2.0, as a reference for projects wanting to upgrade.",source:"@site/docs/2-0-migration.md",sourceDirName:".",slug:"/2-0-migration",permalink:"/docs/2-0-migration",editUrl:"https://github.com/JonnyBurger/remotion/edit/main/packages/docs/docs/2-0-migration.md",version:"current",frontMatter:{id:"2-0-migration",sidebar_title:"v2.0 Migration",title:"v2.0 Breaking changes"},sidebar:"someSidebar",previous:{title:"Performance Tips",permalink:"/docs/performance"},next:{title:"License & Pricing",permalink:"/docs/license"}},d=[{value:"Sequences are 1 frame shorter",id:"sequences-are-1-frame-shorter",children:[]},{value:"Node.JS API changes",id:"nodejs-api-changes",children:[]},{value:"<code>--overwrite</code> is now default",id:"--overwrite-is-now-default",children:[]},{value:"Webpack now uses ESBuild instead of Babel",id:"webpack-now-uses-esbuild-instead-of-babel",children:[]},{value:"<code>react-dom</code> is a peer dependency",id:"react-dom-is-a-peer-dependency",children:[]},{value:"Upgrade to version 2.0",id:"upgrade-to-version-20",children:[]}],l={toc:d};function c(e){var n=e.components,r=(0,o.default)(e,["components"]);return(0,a.mdx)("wrapper",(0,t.default)({},l,r,{components:n,mdxType:"MDXLayout"}),(0,a.mdx)("p",null,"The following is a list of breaking changes in Remotion 2.0, as a reference for projects wanting to upgrade."),(0,a.mdx)("h2",{id:"sequences-are-1-frame-shorter"},"Sequences are 1 frame shorter"),(0,a.mdx)("p",null,"Because of a mistake in v1, sequences were 1 frame too long. The new behavior sees each composition be 1 frame shorter, but be consistent with the duration of compositions."),(0,a.mdx)("p",null,"The behavior of sequences is now the following, as explained by an example: If ",(0,a.mdx)("inlineCode",{parentName:"p"},"durationInFrames")," is 60 and ",(0,a.mdx)("inlineCode",{parentName:"p"},"from")," is 0, the sequence goes from frame 0 to 59 (60 frames in total), same as a composition with the same duration. In versions 1.x of Remotion, a sequence with the same attributes would go from frame 0 to 60 (61 frames in total)."),(0,a.mdx)("p",null,(0,a.mdx)("strong",{parentName:"p"},"Upgrade path"),": Check your sequence lengths and if necessary, increase the duration by 1 frame."),(0,a.mdx)("h2",{id:"nodejs-api-changes"},"Node.JS API changes"),(0,a.mdx)("ul",null,(0,a.mdx)("li",{parentName:"ul"},"The ",(0,a.mdx)("inlineCode",{parentName:"li"},"userProps")," option of ",(0,a.mdx)("inlineCode",{parentName:"li"},"renderFrames")," has been renamed to ",(0,a.mdx)("inlineCode",{parentName:"li"},"inputProps"),"."),(0,a.mdx)("li",{parentName:"ul"},"You now need to pass ",(0,a.mdx)("inlineCode",{parentName:"li"},"assetsInfo")," to ",(0,a.mdx)("inlineCode",{parentName:"li"},"stitchFramesToVideo")," if you want your video to have sound. The ",(0,a.mdx)("inlineCode",{parentName:"li"},"assetsInfo")," object will be returned by ",(0,a.mdx)("inlineCode",{parentName:"li"},"renderFrames()"),".")),(0,a.mdx)("p",null,(0,a.mdx)("strong",{parentName:"p"},"Upgrade path"),": See the updated examples on the ",(0,a.mdx)("a",{parentName:"p",href:"/docs/ssr"},"SSR page")," and update your program accordingly."),(0,a.mdx)("h2",{id:"--overwrite-is-now-default"},(0,a.mdx)("inlineCode",{parentName:"h2"},"--overwrite")," is now default"),(0,a.mdx)("p",null,"If an output already exists, Remotion will overwrite it without asking now, ",(0,a.mdx)("a",{parentName:"p",href:"/docs/config#setoverwriteoutput"},"unless you disable this behavior"),"."),(0,a.mdx)("p",null,(0,a.mdx)("strong",{parentName:"p"},"Upgrade path"),": Do nothing or adjust the setting in the config file if you like."),(0,a.mdx)("h2",{id:"webpack-now-uses-esbuild-instead-of-babel"},"Webpack now uses ESBuild instead of Babel"),(0,a.mdx)("p",null,"Hopefully you will not notice a difference besides it being much faster. There is a way ",(0,a.mdx)("a",{parentName:"p",href:"/docs/legacy-babel"},"to go back to Babel, you can read about it here")),(0,a.mdx)("p",null,(0,a.mdx)("strong",{parentName:"p"},"Upgrade path"),": Do nothing - should something break, use the legacy Babel plugin and file an issue."),(0,a.mdx)("h2",{id:"react-dom-is-a-peer-dependency"},(0,a.mdx)("inlineCode",{parentName:"h2"},"react-dom")," is a peer dependency"),(0,a.mdx)("p",null,(0,a.mdx)("inlineCode",{parentName:"p"},"react-dom")," is not anymore pre-installed, so you need to install manually if you upgrade."),(0,a.mdx)("h2",{id:"upgrade-to-version-20"},"Upgrade to version 2.0"),(0,a.mdx)("p",null,"Upgrade ",(0,a.mdx)("strong",{parentName:"p"},"all"),' dependencies containing "remotion" in your package.json to version ',(0,a.mdx)("inlineCode",{parentName:"p"},"^2.0.0"),"."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-diff"},'-"@remotion/bundler": "^1.5.4",\n-"@remotion/cli": "^1.5.4",\n-"@remotion/eslint-config": "^1.5.4",\n-"@remotion/renderer": "^1.5.4",\n+"@remotion/bundler": "^2.0.0",\n+"@remotion/cli": "^2.0.0",\n+"@remotion/eslint-config": "2.0.0",\n+"@remotion/renderer": "^2.0.0",\n"@types/express": "^4.17.9",\n"@types/react": "^17.0.0",\n"eslint": "^7.15.0",\n"express": "^4.17.1",\n"prettier": "^2.2.1",\n"prettier-plugin-organize-imports": "^1.1.1",\n"react": "^17.0.2",\n+"react-dom": "^17.0.2",\n-"remotion": "^1.5.4",\n+"remotion": "^2.0.0",\n')),(0,a.mdx)("p",null,"Run ",(0,a.mdx)("inlineCode",{parentName:"p"},"npm install")," afterwards."))}c.isMDXComponent=!0}}]);